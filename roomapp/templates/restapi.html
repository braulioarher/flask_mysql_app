{% extends "base.html" %}

{% block content %}

<div class="container" style="width: 80%;">

      <article class="blog-post">
        <br>
        <h2>Aplicacion RESTApi de Wings</h2>
        <br>
        <p>Este ejercicio pide crear recursos para obtener informacion segun sea el caso del usuario que lo usa los cuales pueden ser: <b>SELLER</b> o tambien <b>CONSUMER</b> debemos usar un paquete que se llama <b>JWT</b> que significa <b>JSON Web Token</b> y sirve para autenticar usuarios para mas informacion visitar el siguiente video</p>

        <iframe width="1000" height="630" src="https://www.youtube.com/embed/e-_tsR0hVLQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        
        <br> <br>

        <h3>Join en SQLAlchemy</h3>
        <p>Para crear un join usando SQLAlchemy similar al siguiente <b><i>select product.product_name, category.category_name from product join category on product.category_id = category.category_id;</i></b></p>
        
        <code style="color: blue; font-size: 15px;">
          @app.route('/jsonify') <br>
          def jsonify(): <br>
          &nbsp;&nbsp;&nbsp;&nbsp;dir = {'nombre': 'Braulio', 'edad': 24} <br>
          &nbsp;&nbsp;&nbsp;&nbsp;response = make_response(jsonify(dir), 401) <br>
          &nbsp;&nbsp;&nbsp;&nbsp;return response <br>
      </code>
      <br>

        <h3>Creado la app</h3>
        <p>Para crear la aplicacion como se menciono ateriormente se puede hacer de dos formas bastantes similares la diefencia radica en el archivo <b><i>__init__.py</i></b> tenemos que crear una funcion que regrese nuestra aplicacion mientras que al usar  archivo <b><i>main.py</i></b> debemos de crear los comando como se muestran a continuacion</p>
        <code style="color: blue; font-size: 15px;"> 
                from flask import Flask <br>
                from .config import BaseConfig <br>
                from flask_sqlalchemy import SQLAlchemy <br>
                from flask_migrate import Migrate <br><br>


                app = Flask(__name__)               #Hacemos una instancia para crear la app <br>
                app.config.from_object(BaseConfig)  #Cargamos las configuraciones de la app <br><br>
                bootstrap = Bootstrap(app) <br>
                db = SQLAlchemy(app) <br>
                migrate = Migrate(app, db) <br>
        </code>
        <br>
        <p>Una vez intanciadas nuestras variables de aplicacion podemos importar nuestra app desde nuestro archivo <b><i>main.py</i></b> usando <code>form foldername import app</code> de esta forma podemos exportar nuestra variable <b><i>FLASK_APP</i></b> a nuestra terminar usando el comando <code><b>export FLAS_APP=main.py</b></code></p>
        <p>La siguiente manera es similar solo creado la funcion <b><i>create_app</i></b> y retornando la variable app</p>
                <code style="color: blue; font-size: 15px;"> 
                from flask import Flask <br>
                from .config import BaseConfig <br>
                from flask_bootstrap import Bootstrap <br>
                from models import db <br> <br>

                def create_app(test_config=None) <br>
                &nbsp;&nbsp;&nbsp;&nbsp;app = Flask(__name__)               #Hacemos una instancia para crear la app <br>
                &nbsp;&nbsp;&nbsp;&nbsp;app.config.from_object(BaseConfig)  #Cargamos las configuraciones de la app <br><br>
                &nbsp;&nbsp;&nbsp;&nbsp;bootstrap = Bootstrap(app) <br>
                &nbsp;&nbsp;&nbsp;&nbsp;db.app = app <br>
                &nbsp;&nbsp;&nbsp;&nbsp;db.init_app(app) <br><br>

                &nbsp;&nbsp;&nbsp;&nbsp;return app <br>
        </code>
        <br>
        <p>De esta forma entonces podemos exportar nuestra variable <b><i>FLASK_APP</i></b> a nuestra terminar usando el comando <code><b>export FLAS_APP=foldername</b></code></p>

      <nav class="blog-pagination" aria-label="Pagination">
        <a class="btn btn-outline-primary rounded-pill" href="{{ url_for('main.configfile') }}">Archivo config.py</a>
      </nav>
        </article>
</div>
{% endblock %}